@model MassMailWeb.Models.Email
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<title>MassMail</title>
</head>

<h1>MassMail</h1>

<form method="post" asp-controller="Home" asp-action="Index" class="container align-items-center">
	<div class="input-group mb-3 w-25">
		<input asp-for="From" placeholder="De" class="form-control"/>
		<span asp-validation-for="From" style="color: red;"></span>
	</div>
	<div class="input-group mb-3 w-25">
		<input asp-for="Password" placeholder="Senha" type="password" class="form-control" />
		<span asp-validation-for="Password" style="color: red;"></span>
	</div>
	<div class="input-group mb-3 w-75">
		<input asp-for="ToField" placeholder="Para" class="form-control" />
		<span asp-validation-for="ToField" style="color: red;"></span>
		<input type="checkbox" id="bcc-checkbox" class="form-check-input" asp-for="BccOrNot"/>
		<label for="bcc-checkbox">Enviar como cópia oculta</label>
	</div>
	<div class="input-group mb-3 w-25">
		<input asp-for="Subject" placeholder="Assunto" class="form-control" />
		<span asp-validation-for="Subject" style="color: red;"></span>
	</div>
	<div class="input-group mb-3 w-75">
		<textarea asp-for="Body" class="form-control" rows="6" placeholder="Mensagem"></textarea>
		<input type="checkbox" asp-for="HtmlOrNot" id="html-checkbox" class="form-check-input" />
		<label for="html-checkbox">Formatação em HTML</label>
		<span asp-validation-for="Body" style="color: red;"></span>
	</div>

	<button type="submit" class="btn btn-primary" value="Enviar">Enviar</button>
</form>

@if (ViewBag.AuthenticationWarn)
{
	<script type="text/javascript">
		window.onload = function(){
			alert("E-mail ou senha incorretos.\n\nCaso estejam corretos, então é necessário ativar o acesso a app menos seguro.\n\nClique em OK para ativar");
			window.open("https://myaccount.google.com/lesssecureapps");
			window.open("https://support.google.com/accounts/answer/6010255");
		}
	</script>
}